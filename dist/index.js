var e=new WeakMap,t=new WeakMap,n=new WeakMap,a={handlers:new WeakMap,instant:new WeakMap,uniques:new WeakMap,callbacks:new WeakMap,current:new WeakMap},r=function(e,t){t.get(e)&&(clearTimeout(t.get(e)),t.delete(e))},i=function(t,i){var s=a.uniques.get(t),u=a.callbacks.get(t),c=a.handlers.get(t),l=a.current.get(t);i&&!n.get(t)&&n.set(t,!0),l?c[i?0:1](t,u):c(t,u),s&&i&&function(t,n){n.unobserve(t),r(t,e)}(t,i)},s=function(n,a,s){var u=n?t:e;u.set(a,setTimeout((function(){i(a,s),r(a,u)}),500))},u=new IntersectionObserver((function(u,c){u.forEach((function(u){var l=a.instant.get(u.target);if(u.isIntersecting)l&&i(u.target,c),e.get(u.target)||l||s(!1,u.target,c);else{if(n.get(u.target)){if(l&&i(u.target),t.get(u.target)||l)return;s(!0,u.target)}r(u.target,e)}}))})),c={bind:function(e,t){!function(e,t){a.callbacks.set(e,t.arg),a.instant.set(e,t.modifiers.instant),a.uniques.set(e,t.modifiers.unique),a.current.set(e,t.modifiers.current),a.handlers.set(e,t.value)}(e,t),u.observe(e)},unbind:function(r){!function(r){a.callbacks.delete(r),a.instant.delete(r),a.uniques.delete(r),a.current.delete(r),a.handlers.delete(r),e.delete(r),t.delete(r),n.delete(r)}(r),u.unobserve(r)}},l={install:function(e){console.log(e),e.directive("is-intersecting",c)}};export default l;
